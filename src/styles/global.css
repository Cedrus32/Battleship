/* GLOBAL VARIABLES */

:root {
    --main-spacing: 2vw;
    --player-area: calc(calc(100vw - calc(var(--main-spacing) * 4)) / 2);
    --player-fr: calc(var(--player-area) / 16); /* 15 for 10+5 cells ++ 1 to /13 for cell gaps */
    --cell-gap: calc(var(--player-fr) / 13);

    --sidebar-spacing: calc(var(--main-spacing) / 2);
    --sidebar-area: calc(var(--sidebar-spacing) + calc(var(--player-fr) * 5) + calc(var(--cell-gap) * 4));
    --ship-cell: var(--player-fr);

    --board-area: calc(calc(var(--player-fr) * 10) + calc(var(--cell-gap) * 9));
    --board-cell: var(--player-fr);
}

.hide {
    z-index: -1;
}

/* DISPLAY FLEX */

body,
main,
.menu,
.tally,
.ship,
.board,
.row,
#alert,
footer {
    display: flex;
}

body,
.menu,
.tally,
.board,
#alert {
    flex-flow: column;
}

/* DISPLAY GRID */

#human,
#computer {
    display: grid;
    grid-template-rows: 1fr;
}

#human {
    grid-template-columns: var(--sidebar-area) var(--board-area);
    grid-template-areas: 'sidebar board';
}

#computer {
    grid-template-columns: var(--board-area) var(--sidebar-area);
    grid-template-areas: 'board sidebar';
}

    .menu {
        grid-area: sidebar;
    }

    .tally {
        grid-area: sidebar;
    }

    .board {
        grid-area: board;
    }

/* POSITIONING */

body {
    justify-content: center;
    align-items: center;
}

    main {
        gap: var(--main-spacing);
    }

        .menu,
        .tally {
            gap: var(--sidebar-spacing);
        }

            .ship,
            .board,
            .row {
                gap: var(--cell-gap);
            }

    #alert {
        position: absolute;
        align-items: center;
        gap: var(--main-spacing);
    }

    footer {
        justify-content: center;
        gap: calc(var(--main-spacing) / 2);
    }

/* SIZING */

body {
    height: auto;
    width: 100vw;
}

    main {
        padding: var(--main-spacing);
    }

        .menu,
        #human .tally {
            padding-right: var(--sidebar-spacing);
        }

        #computer .tally {
            padding-left: var(--sidebar-spacing);
        }

            .ship {
                height: auto;
                width: max-content;
            }

                .menu .ship div,
                .tally .ship div,
                .cell .ship div {
                    height: var(--ship-cell);
                    width: var(--ship-cell);
                }

                /* .tally .ship div {
                    height: calc(var(--ship-cell) / 2);
                    width: calc(var(--ship-cell) / 2);
                } */

        .cell {
            height: var(--board-cell);
            width: var(--board-cell);
        }

    #alert {
        min-width: max-content;
        width: 25vw;
        padding: var(--main-spacing);
    }

    footer {
        width: 100%;
    }

        button {
            height: calc(var(--player-fr) * 2);
            width: auto;
        }

            img {
                height: 100%;
                width: auto;
            }

/* COLORS & SHAPING */

:root {
    --main-light: #b1c6eb;
    --main-dark: blue;
    --error: red;
}

body {
    background-color: #b1c6eb;
}

    .ship div,
    .cell {
        border-radius: 10%;
    }

    .cell,
    .cell.attack:not(.cell.hit),
    .cell.attack:not(.cell.miss) {
        border: blue 1px solid;
    }

    .cell.attack:not(.cell.hit),
    .cell.attack:not(.cell.miss) {
        opacity: 25%;
    }

    .menu .ship div,
    .cell.placed,
    .ship.selected div,
    .ship.placed div,
    .hover.is-valid,
    .tally .ship div {
        background-color: blue;
    }

    .ship.selected div,
    .ship.placed div,
    .hover.is-valid,
    .tally .ship div {
        opacity: 50%;
    }

    .miss {
        background-color: rgba(0, 0, 131);
        opacity: 15%;
        border-color: rgba(0, 0, 131);
    }

    .hover.is-invalid,
    .sunk div,
    .hit {
        background-color: red !important;
        opacity: 50%;
        border-color: red;
    }

    .hover.is-valid,
    .sunk div {
        opacity: 50%;
    }

    .hit {
        opacity: 75%;
    }

#alert {
    background-color: rgba(128, 0, 128, 0.3);
}
